<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>jQuery Mobile: Demos and Documentation</title>
    <link rel="stylesheet"  href="../libs/jquery.mobile-1.2.0.min.css" />
    <link rel="stylesheet" href="../libs/jqm-docs.css" />
    <script src="../../jquery-1.8.1.js"></script>
    <script src="../../color-picker.js" type="text/javascript"></script>
    <script src="../libs/jquery.mobile-1.2.0.min.js"></script>

    <link rel="stylesheet" href="../libs/default.min.css">
    <script src="../libs/highlight.pack.js"></script>
    <script type="text/javascript">
        $(document).bind('pageinit', function() {
            $('pre code').each(function(i, e) {hljs.highlightBlock(e)});
        });
    </script>

    <script src="custom-color-format.js"></script>
</head>
<body>
<div data-role="page" class="type-interior" id="custom-color-format">

    <div data-role="header" data-theme="a">
        <h1>Demos</h1>
        <a href="../index.html" data-icon="home" data-iconpos="notext" data-direction="reverse">Home</a>
    </div>

    <div data-role="content">

        <div class="content-primary">
            <form action="#" method="get">
                <h2>Custom color formats</h2>
                <div data-role="collapsible" data-theme="b" data-content-theme="d" data-collapsed-icon="arrow-r" data-expanded-icon="arrow-d">
                    <h3>Comma separated HSL</h3>
                    <div data-role="fieldcontain">
                        <label for="color1">Pick a color:</label>
                        <input type="text" name="color1" id="color1" value="0,0,0"  />
                    </div>
                    <div data-role="collapsible" data-theme="c" data-content-theme="d">
                        <h3>Code</h3>
                        <pre><code class="javascript">
$(function () {
    $('#color1').canvasColorPicker({
        str2color: function (str) {
            var arr = str.split(',');
            return {
                h: parseInt(arr[0], 10) / 360,
                s: parseInt(arr[1], 10) / 100,
                l: parseInt(arr[2], 10) / 100
            };
        },
        color2str: function (color) {
            return Math.round(
                color.hsl.h * 360
            ) + ',' +
            Math.round(
                color.hsl.s * 100
            ) + ',' +
            Math.round(
                color.hsl.l * 100
            );
        }
    })
});
                    </code></pre>
                    </div>
                </div>
                <div data-role="collapsible" data-theme="b" data-content-theme="d" data-collapsed-icon="arrow-r" data-expanded-icon="arrow-d">
                    <h3>JSON encoded CMYK    <script src="../../color-picker.js" type="text/javascript"></script>
</h3>
                    <div data-role="fieldcontain">
                        <label for="color2">Pick a color:</label>
                        <input type="text" name="color2" id="color2" value="{&quot;c&quot;:0,&quot;m&quot;:0,&quot;y&quot;:0,&quot;k&quot;:1}"  />
                    </div>
                    <div data-role="collapsible" data-theme="c" data-content-theme="d">
                       <h3>Code</h3>
<pre><code class="javascript">$(function () {
    $('#color2').canvasColorPicker({
        str2color: function (str) {
            try {
                var color = $.parseJSON(str);
                for (var i in color) {
                    color[i] /= 100;
                }
                return color;
            } catch (e) {}
        },
        color2str: function (color) {
            return '{' +
            '"c":' + Math.round(
                color.cmyk.c * 100
            ) + ',' +
            '"m":' + Math.round(
                color.cmyk.m * 100
            ) + ',' +
            '"y":' + Math.round(
                color.cmyk.y * 100
            ) + ',' +
            '"k":' + Math.round(
                color.cmyk.k * 100
            ) +
            '}';
        }
    })
});</code></pre>
                    </div>
                </div>
                <div data-role="collapsible" data-theme="b" data-content-theme="d" data-collapsed-icon="arrow-r" data-expanded-icon="arrow-d">
                    <h3>Hex RGB without "#"</h3>
                    <div data-role="fieldcontain">
                        <label for="color3">Pick a color:</label>
                        <input type="text" name="color3" id="color3" value="000000"  />
                    </div>
                    <div data-role="collapsible" data-theme="c" data-content-theme="d">
                       <h3>Code</h3>
<pre><code class="javascript">$(function () {
    $('#color3').canvasColorPicker({
        str2color: function (str) {
            return '#' + str;
        },
        color2str: function (color) {
            return color.hex.substring(1);
        }
    })
});</code></pre>
                    </div>
                </div>
                <div data-role="collapsible" data-theme="b" data-content-theme="d" data-collapsed-icon="arrow-r" data-expanded-icon="arrow-d">
                    <h3>RGB as an integer</h3>
                    <div data-role="fieldcontain">
                        <label for="color4">Pick a color:</label>
                        <input type="text" name="color4" id="color4" value="0"  />
                    </div>
                    <div data-role="collapsible" data-theme="c" data-content-theme="d">
                       <h3>Code</h3>
<pre><code class="javascript">$('#color4').canvasColorPicker({
    str2color: function (str) {
        var num = parseInt(str, 10) || 0;
        return {
            r: ((num &amp; (255 * 255 * 255)) &gt;&gt; 16) / 255,
            g: ((num &amp; (255 * 255)) &gt;&gt; 8) / 255,
            b: ((num &amp; 255)) / 255
        };
    },
    color2str: function (color) {
        var num = (Math.round(color.rgb.r * 255) &lt;&lt; 16)
            + (Math.round(color.rgb.g * 255) &lt;&lt; 8)
            + Math.round(color.rgb.b * 255)
        return num;
    }
})</code></pre>
                    </div>
                </div>
            </form>
        </div>

        <div class="content-secondary">
            <ul data-role="listview"  data-theme="c" data-dividertheme="d">
                <li data-role="list-divider">Demos</li>
                <li data-theme="a"><a href="custom-color-format.html">Custom color formats</a></li>
                <li><a href="icon.html">Icon</a></li>
                <li><a href="docs/toolbars/index.html">Dialog</a></li>
                <li><a href="docs/buttons/index.html">Resizable Dialog</a></li>
                <li><a href="docs/content/index.html">Events</a></li>
                <li><a href="docs/forms/index.html">Custom style</a></li>
                <li><a href="docs/lists/index.html">Preview in textfield</a></li>
            </ul>
        </div>

    </div>

    <div data-role="footer" class="footer-docs" data-theme="c">
        <p class="jqm-version"></p>
        <p>&copy; 2012 jQuery Foundation and other contributors</p>
    </div>
</div>
</body>
</html>
