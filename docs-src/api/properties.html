<?php

require '../template.php';
require 'menu.php';

$html  = getHeader('..', 'interior', 'Documentation / API / Properties');
$html .= '<div class="content-primary">';

$html .= '<fieldset class="ui-grid-a">';
$html .= '<div class="ui-block-a">';
$html .= '<a class="expand" href="#" data-role="button" data-mini="true">Expand all</a></div>';
$html .= '<div class="ui-block-b">';
$html .= '<a class="collapse" href="#" data-role="button" data-mini="true">Collapse all</a></div>';
$html .= '</fieldset>';

$html .= '<h2>General Properties</h2>';

$template  = '<div id="%s" data-role="collapsible"';
$template .= ' data-theme="b" data-content-theme="d"';
$template .= ' data-collapsed-icon="arrow-r" data-expanded-icon="arrow-d">';
$template .= '<h3>%s</h3>';
$template .= '<p><strong>Description:</strong><br />%s</p>';
$template .= '<p><strong>Values:</strong> %s</p>';
$template .= '<p><strong>Default:</strong> %s</p>';
$template .= '%s';
$template .= '%s';
$template .= '%s';
$template .= '</div>';

$properties = array(
    'autosave' => array(
        'default' => '<i>true</i>',
        'description' => 'Whether to automatically update the value in the source text'
                    . ' input when the user selects a new color. In you set this to false, '
                    . 'you will need to manually invoke the "save" method on the chromoselector object'
                    . 'when you would like for the color to be saved.',
        'values' => '<i>true</i> or <i>false</i>',
        'samples' => array(
            "// This is the default\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        autosave: true\n"
                ."    });\n"
                ."});\n",
            "// This will save the color when the colorpicker loses focus\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        autosave: false\n"
                ."    }).blur(function () {\n"
                ."        $(this).chromoselector('save');\n"
                ."    });\n"
                ."});\n"
        )
    ),
    'autoshow' => array(
        'default' => '<i>true</i>',
        'description' => 'Whether to automatically show the color picker when the '
                    . 'source text input receives focus. If you set this to false, '
                    . 'you will need to manually invoke the "show" and "hide" methods '
                    . 'on the chromoselector object when you would like to show and hide '
                    . 'the color picker.',
        'values' => '<i>true</i> or <i>false</i>',
        'samples' => array(
            "// This is the default\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        autoshow: true\n"
                ."    });\n"
                ."});\n",
            "// This will show color picker when the user clicks inside\n"
                . "// the source text input and hide it when the element loses focus\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        autoshow: false\n"
                ."    }).click(function () {\n"
                ."        $(this).chromoselector('show');\n"
                ."    }).blur(function () {\n"
                ."        $(this).chromoselector('hide');\n"
                ."    });\n"
                ."});\n"
        )
    ),
    'effect' => array(
        'default' => '"fade"',
        'description' => 'Which animation effect to use when showing/hiding the color picker widget.'
                        . ' If you wish to disable animations, set the "speed" property to 0.',
        'values' => '"fade" or "slide"',
        'samples' => array(
            "// Slides the picker down/up when showing/hiding it\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        effect: 'slide'\n"
                ."    });\n"
                ."});\n",
            "// No animation\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        speed: 0\n"
                ."    });\n"
                ."});\n"
        )
    ),
    'icon' => array(
        'default' => '<i>undefined</i>',
        'description' => 'The URL to an image file. This is used to display an icon '
                            . 'beside the color picker, which is then used to show it '
                            . 'when clicked.',
        'values' => 'A string containing the URL of the icon to show.',
        'samples' => array(
            "// Absolute address\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        icon: 'http://www.chromoselector.com/images/favicon.png'\n"
                ."    });\n"
                ."});\n",
            "// Relative address\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        icon: '../images/favicon.png'\n"
                ."    });\n"
                ."});\n"
        )
    ),
    'iconalt' => array(
        'default' => '"Open Color Picker"',
        'description' => 'The text to display instead of the icon if it fails to load.',
        'values' => 'A non empty string.',
        'samples' => array(
            "// Shorter string \n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        icon: 'http://www.example.com/invalid.png',\n"
                ."        iconalt: 'Picker'\n"
                ."    });\n"
                ."});\n"
        )
    ),
    'iconpos' => array(
        'default' => '"right"',
        'description' => 'Defines on which side of the source text input to display the icon. '
                        . 'Does nothing, if the "icon" property is not set.',
        'values' => '"left" or "right"',
        'samples' => array(
            "// Display icon on left\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        icon: 'http://www.chromoselector.com/images/favicon.png',\n"
                ."        iconpos: 'left'\n"
                ."    });\n"
                ."});\n"
        )
    ),
    'lazy' => array(
        'default' => '<i>true</i>',
        'description' => 'Whether to defer the rendering of the color picker object.<br/> '
                        . '<p>When set to <i>true</i>, the rendering of the colorpicker does not start '
                        . 'until the mouseover event is triggered on the source text input. '
                        . 'When set to <i>false</i>, the rendering occurs straight away.</p>'
                        . 'Does nothing, if the "autoshow" property is set to <i>false</i>.',
        'values' => '<i>true</i> or <i>false</i>',
        'samples' => array(
            "// Render the color picker when the page is loaded\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        lazy: false\n"
                ."    });\n"
                ."});\n"
        )
    ),
    'minWidth' => array(
        'default' => '120',
        'description' => 'Mimimum width of the color picker widget, not including the side panel.',
        'values' => 'An integer greater than or equal to 100.',
        'samples' => array(
            "// This will restrict resizing to the 300px - 400px range\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        minWidth: 300\n"
                ."    });\n"
                ."});\n"
        )
    ),
    'maxWidth' => array(
        'default' => '400',
        'description' => 'Maximum width of the color picker widget, not including the side panel. This setting is ignored if the value is less than <i>minWidth</i>.',
        'values' => 'An integer greater than or equal to 100.',
        'samples' => array(
            "// This will restrict resizing to the 120px - 300px range\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        maxWidth: 300\n"
                ."    });\n"
                ."});\n"
        )
    ),
    'panel' => array(
        'default' => '<i>false</i>',
        'description' => 'When set to <i>true</i>, the color picker
                        will have show a side panel with sliders for
                        manipulation of individual color channels',
        'values' => '<i>true</i> or <i>false</i>',
        'samples' => array(
            "// Show the panel\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        panel: true\n"
                ."    });\n"
                ."});\n"
        )
    ),
    'panelAlpha' => array(
        'default' => '<i>false</i>',
        'description' => 'When set to <i>true</i>, the color picker
                        will have show a side panel with a slider for
                        manipulating the alpha channel',
        'values' => '<i>true</i> or <i>false</i>',
        'samples' => array(
            "// Show the alpha selector\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        panelAlpha: true\n"
                ."    });\n"
                ."});\n",
            "// Show the panel and the alpha selector\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        panel: true,\n"
                ."        panelAlpha: true\n"
                ."    });\n"
                ."});\n"
        )
    ),
    'panelChannelWidth' => array(
        'default' => '<i>18</i>',
        'description' => 'The width of each slider in the panel',
        'values' => 'An integer value between 10 and 40, inclusive',
        'samples' => array(
            "// Wide sliders in the panel \n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        panel: true,\n"
                ."        panelChannelWidth: 30\n"
                ."    });\n"
                ."});\n"
        )
    ),
    'panelChannelMargin' => array(
        'default' => '<i>12</i>',
        'description' => 'The amount of empty space, in pixels,
                    to leave between sliders in the panel',
        'values' => 'An integer value between 0 and 50, inclusive',
        'samples' => array(
            "// No space between sliders in the panel \n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        panel: true,\n"
                ."        panelChannelMargin: 0\n"
                ."    });\n"
                ."});\n"
        )
    ),
    'panelMode' => array(
        'default' => '"rgb"',
        'description' => 'The default mode for the panel',
        'values' => '"rgb", "hsl" or "cmyk"',
        'samples' => array(
            "// Show the HSL selector in panel first\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        panel: true,\n"
                ."        panelMode: 'hsl'\n"
                ."    });\n"
                ."});\n"
        )
    ),
    'panelModes' => array(
        'default' => '<i>[\'rgb\', \'hsl\', \'cmyk\']</i>',
        'description' => 'The available modes for the panel.
                    If an empty array is passed, the mode selector will
                    be hidden and the panel will stay in the mode defined by
                    the "panelMode" property.',
        'values' => '<i>Array</i>',
        'samples' => array(
            "// Show only the HSL selector in panel\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        panel: true,\n"
                ."        panelMode: 'hsl',\n"
                ."        panelModes: []\n"
                ."    });\n"
                ."});\n",
            "// Show only the RGB and HSL selectors in panel\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        panel: true,\n"
                ."        panelModes: ['rgb', 'hsl']\n"
                ."    });\n"
                ."});\n"
        )
    ),
    'pickerClass' => array(
        'default' => '<i>An empty string</i>',
        'description' => 'This property allows you to add an extra class to the DOM element
            containing the color picker (which already has the the "ui-cs-chromoselector" class). By doing so, it is possible to over-ride the
            styling of a color picker (useful when displaying multiple color pickers
            that have different style on the same page).',
        'values' => '<i>A string containing a valid reference to a CSS class</i>',
        'css' => '.dark.ui-cs-chromoselector {
    background: #222233;
    background: rgba(34,34,41,0.95);
    border: 1px solid black;
}',
        'samples' => array(
                 "$(document).ready(function () {\n"
                ."    // Display some pickers with default style\n"
                ."    $('input.color').chromoselector();\n"
                ."    // Display some other pickers with dark style\n"
                ."    $('input.dark').chromoselector({\n"
                ."        pickerClass: 'dark'\n"
                ."    });\n"
                ."});\n"
        )
    ),
    'preview' => array(
        'default' => '<i>true</i>',
        'description' => 'Whether to show a preview box of the currently selected color '
                         . 'above the color picker widget. You can show a preview somewhere '
                         . 'else by registering to the "update" event.',
        'values' => '<i>true</i> or <i>false</i>',
        'samples' => array(
            "// This is the default\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        preview: true\n"
                ."    });\n"
                ."});\n",
            "// Don't show a preview\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        preview: false\n"
                ."    });\n"
                ."});\n",
            "// Show a preview in the background of the input element\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        preview: false,\n"
                ."        update: function () {\n"
                ."            $(this).css(\n"
                ."                'background-color',\n"
                ."                $(this).chromoselector('getColor').hex\n"
                ."            );\n"
                ."        }\n"
                ."    });\n"
                ."});\n"
        )
    ),
    'resizable' => array(
        'default' => '<i>true</i>',
        'description' => 'Whether the color picker should be resizable or not.',
        'values' => '<i>true</i> or <i>false</i>',
        'samples' => array(
            "// This is the default\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        resizable: true\n"
                ."    });\n"
                ."});\n",
            "// Do not allow resizing\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        resizable: false\n"
                ."    });\n"
                ."});\n"
        )
    ),
    'roundcorners' => array(
        'default' => '<i>true</i>',
        'description' => 'Whether to use rounded corners on the color picker container.',
        'values' => '<i>true</i> or <i>false</i>',
        'samples' => array(
                "// This is the default\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        roundcorners: true\n"
                ."    });\n"
                ."});\n",
                "// Show square corners\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        roundcorners: false\n"
                ."    });\n"
                ."});\n",
                "// Here, the value of roundcorners will be\n"
                ."// ignored because we have set a target\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        roundcorners: true,\n"
                ."        target: '#target'\n"
                ."    });\n"
                ."});\n"
        )
    ),
    'ringwidth' => array(
        'default' => '15',
        'description' => 'The thickness of the hue selector (the outer ring of the color picker), in pixels. Must be less than 25% of <i>minWidth</i>.',
        'values' => 'A positive integer',
        'samples' => array(
            "// Use a wider hue selector for a big picker\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        ringwidth: 25,\n"
                ."        width: 300\n"
                ."    });\n"
                ."});\n"
        )
    ),
    'shadow' => array(
        'default' => '6',
        'description' => 'The amount of shadow to drop under the color picker in pixels. A value of 10 or less is recommended to avoid cropping the shadow.',
        'values' => 'A positive integer or 0',
        'samples' => array(
            "// No Shadow\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        shadow: 0\n"
                ."    });\n"
                ."});\n",
            "// Extra wide shadow\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        shadow: 10\n"
                ."    });\n"
                ."});\n"
        )
    ),
    'shadowColor' => array(
        'default' => 'rgba(0,0,0,0.6)',
        'description' => 'The color of the shadow dropped under the color picker. <br /><small>Available since version 1.1.0</small>',
        'values' => 'A string representing a color in HEX (<code>#fff</code> or <code>#ffffff</code>), RGB <code>rgb(255,255,255)</code> and RGBA <code>rgba(255,255,255,1)</code>',
        'samples' => array(
            "// White shadow\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        shadowColor: '#ffffff' \n"
                ."    });\n"
                ."});\n",
            "// A half-transparent, yellow shadow\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        shadowColor: 'rgba(255,255,0,0.5)'\n"
                ."    });\n"
                ."});\n"
        )
    ),
    'speed' => array(
        'default' => '400',
        'description' => 'The duration of the show/hide animations.',
        'values' => 'A positive integer or 0, this will be interpreted as a number of milliseconds, '
                    . 'also: "fast", "medium" and "slow"',
        'samples' => array(
            "// A slow animation\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        speed: 'slow'\n"
                ."    });\n"
                ."});\n",
            "// No animation\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        speed: 0\n"
                ."    });\n"
                ."});\n"
        )
    ),
    'target' => array(
        'default' => '<i>null</i>',
        'description' => 'Allows to specify a terget container where to put the '
                        . 'color picker. If a custom container is used, note that '
                        . 'you will need to ensure yourself that the color picker '
                        . 'is correctly positioned on the page.',
        'values' => '<i>null</i> to use the default target container positioned below the '
                    . 'source text input<br />A selector, a DOM object or a jQuery object are also acceptable '
                    . 'and will allow custom positioning of the color picker.',
        'samples' => array(
            "// Sample custom target\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        target: '#myContainer'\n"
                ."    });\n"
                ."});\n"
        )
    ),
    'width' => array(
        'default' => '180',
        'description' => 'The total width of the color picker widget in pixels. '
                       . 'This includes a fixed padding on both sides.',
        'values' => 'An integer between <i>minWidth</i> and <i>MaxWidth</i>. Any values outside of '
                    . 'this range will be clipped to the nearest legal value.',
        'samples' => array(
            "// Sets the outside widget width to 320 pixels\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        width: 320\n"
                ."    });\n"
                ."});\n"
        )
    )
);


foreach ($properties as $key => $value) {
    $samples = '';
    if (! empty($value['samples'])) {
        foreach ($value['samples'] as $sample) {
            $samples .= '<pre><code class="javascript">' . htmlspecialchars($sample) . '</code></pre>';
        }
    }

    $links = '';
    if (! empty($value['links'])) {
        $links = '<strong>See also:</strong><ul>';
        foreach ($value['links'] as $link) {
            $links .= '<li>';
            $links .= '<a href="'. $link['url'] . '">' . $link['text'] . '</a>';
            $links .= '</li>';
        }
        $links .= '</ul>';
    }
    $css = '';
    if (! empty($value['css'])) {
        $css  = '<h4>CSS code:</h4>';
        $css .= '<pre><code class="css">';
        $css .= htmlspecialchars($value['css']);
        $css .= '</code></pre>';
        $css .= '<h4>JS code:</h4>';
    }

    $html .= sprintf(
        $template,
        $key,
        $key,
        $value['description'],
        $value['values'],
        $value['default'],
        $css,
        $samples,
        $links
    );
}

$html .= '<h2>Callbacks</h2>';

$properties = array(
    'save()' => array(
        'default' => '<i>null</i>',
        'description' => 'This function is responsible for saving back the value of the color '
                        . 'to the source element. When not defined, a default internal function is used.',
        'values' => '<i>null</i> or <i>function</i>',
        'samples' => array(
            "// This is the equivalent of the default function\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        save: function (value) {\n"
                ."            // The value comes in already formatted\n"
                ."            // and only needs to be placed somewhere\n"
                ."            $(this).val(\n"
                ."                value\n"
                ."            ).html(\n"
                ."                value\n"
                ."            );\n"
                ."        }\n"
                ."    });\n"
                ."});\n"
        )
    ),
    'load()' => array(
        'default' => '<i>null</i>',
        'description' => 'This function is responsible for reading in the value of the color '
                        . 'from the source element. When not defined, a default internal function is used.',
        'values' => '<i>null</i> or <i>function</i>',
        'samples' => array(
            "// This is the equivalent of the default function\n"
                ."$(document).ready(function () {\n"
                ."    $('input.color').chromoselector({\n"
                ."        // The value only needs to be read in here\n"
                ."        // the parsing will be done at a later stage\n"
                ."        load: function () {\n"
                ."            return $(this).val() || $(this).html();\n"
                ."        }\n"
                ."    });\n"
                ."});\n"
        )
    ),
    'str2color()' => array(
        'default' => '<i>null</i>',
        'description' => 'This function is responsible for parsing a string into a format '
                        . 'that can be interpreted by the Color class. When not defined, '
                        . 'a default internal function is used.',
        'values' => '<i>null</i> or <i>function</i>',
        'links' => array(
            array('url' => '../demos/custom-color-format.html', 'text' => 'Demo - Custom Color Format'),
            array('url' => 'color-manipulation.html', 'text' => 'Object - Color')
        )
    ),
    'color2str()' => array(
        'default' => '<i>null</i>',
        'description' => 'This function is responsible for converting a Color object '
                        . 'to a human-readable string. When not defined, '
                        . 'a default internal function is used.',
        'values' => '<i>null</i> or <i>function</i>',
        'links' => array(
            array('url' => '../demos/custom-color-format.html', 'text' => 'Demo - Custom Color Format'),
            array('url' => 'color-manipulation.html', 'text' => 'Object - Color')
        )
    )
);

foreach ($properties as $key => $value) {
    $samples = '';
    if (! empty($value['samples'])) {
        $samples = '<p><strong>Sample usage:</strong>';
        foreach ($value['samples'] as $sample) {
            $samples .= '<pre><code class="javascript">' . htmlspecialchars($sample) . '</code></pre>';
        }
        $samples .= '</p>';
    }

    $links = '';
    if (! empty($value['links'])) {
        $links = '<strong>See also:</strong><p>';
        foreach ($value['links'] as $link) {
            $links .= '';
            $links .= '<a href="'. $link['url'] . '">' . $link['text'] . '</a>';
            $links .= '</p>';
        }
        $links .= '';
    }

    $html .= sprintf(
        $template,
        str_replace(array("(", ")"), "", $key),
        $key,
        $value['default'],
        $value['description'],
        $value['values'],
        $css,
        $samples,
        $links
    );
}

$html .= '</div>';
$html .= '<div class="content-secondary">';
$html .= '<nav>';
$html .= '<ul data-role="listview"  data-theme="c" data-dividertheme="d">';
$html .= getApiMenu('..', 'properties');
$html .= '</ul>';
$html .= '</nav>';
$html .= '</div>';
$html .= getFooter();

echo tidy_up($html);

?>
